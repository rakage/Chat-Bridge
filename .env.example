# Database
# ============================================
# DATABASE CONNECTION POOL CONFIGURATION
# ============================================
# Production: Use connection pooling to prevent database exhaustion
# 
# Parameters explained:
# - connection_limit: Max connections per app instance (10-20 recommended)
# - pool_timeout: Time to wait for available connection (20s recommended)
# - connect_timeout: Time to wait for initial connection (10s recommended)
# - schema: Database schema (default: public)
# - sslmode: SSL connection mode (require for production)
#
# Development (no pooling):
DATABASE_URL="postgresql://username:password@localhost:5432/facebook_bot_db"
#
# Production (with pooling - RECOMMENDED):
# DATABASE_URL="postgresql://username:password@host:5432/db?connection_limit=15&pool_timeout=20&connect_timeout=10"
#
# Production with PgBouncer (BEST for high traffic):
# DATABASE_URL="postgresql://username:password@pgbouncer-host:6432/db?connection_limit=10&pool_timeout=20"
# DIRECT_URL="postgresql://username:password@postgres-host:5432/db"
#
# Note: DIRECT_URL is used for migrations (bypasses PgBouncer)
DIRECT_URL="postgresql://username:password@localhost:5432/facebook_bot_db"

# NextAuth
NEXTAUTH_SECRET="your-nextauth-secret-key-here"
NEXTAUTH_URL="http://localhost:3000"

# Facebook OAuth
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
FACEBOOK_REDIRECT_URI="http://localhost:3000/api/auth/facebook/callback"

# Instagram Business API
INSTAGRAM_APP_ID="your-instagram-app-id"
INSTAGRAM_APP_SECRET="your-instagram-app-secret"
INSTAGRAM_REDIRECT_URI="http://localhost:3000/api/auth/instagram/callback"

# Instagram Webhooks (for messaging)
INSTAGRAM_WEBHOOK_VERIFY_TOKEN="your-instagram-webhook-verify-token"

# Facebook Webhook
FB_APP_SECRET="your-facebook-app-secret"
WEBHOOK_VERIFY_TOKEN="my_webhook_verify_token_123"

# Email (for NextAuth email provider)
EMAIL_SERVER_HOST="smtp.gmail.com"
EMAIL_SERVER_PORT="587"
EMAIL_SERVER_USER="your-email@gmail.com"
EMAIL_SERVER_PASSWORD="your-email-password"
EMAIL_FROM="your-email@gmail.com"

# Encryption (for storing tokens securely)
ENCRYPTION_KEY="your-32-character-encryption-key-here"

# OpenAI (for AI responses and embeddings)
# Required: Used for text embeddings (text-embedding-3-small) and chat completions
OPENAI_API_KEY="your-openai-api-key"

# Gemini (optional - only if using Gemini for chat completions)
GEMINI_API_KEY="your-gemini-api-key"

# Redis (for caching and queues)
REDIS_URL="redis://localhost:6379"

# Cloudflare R2 (for file uploads)
CLOUDFLARE_ACCOUNT_ID="your-cloudflare-account-id"
CLOUDFLARE_R2_ACCESS_KEY_ID="your-r2-access-key-id"
CLOUDFLARE_R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
CLOUDFLARE_R2_BUCKET_NAME="your-bucket-name"
CLOUDFLARE_R2_PUBLIC_URL="https://your-custom-domain.com" # Optional: Custom domain for public access
